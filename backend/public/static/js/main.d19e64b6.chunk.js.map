{"version":3,"sources":["store/toy.reducer.js","services/http.service.js","services/user.service.js","store/user.reducer.js","store/review.reducer.js","store/system.reducer.js","store/store.js","assets/img/toyLogo.svg","pages/ToyHome.jsx","cmps/MyMap.jsx","pages/ToyAbout.jsx","cmps/ToyFilter.jsx","cmps/ToyPreview.jsx","cmps/ToyList.jsx","cmps/ToyAdd.jsx","services/toy.service.js","services/event-bus.service.js","store/toy.actions.js","pages/ToyApp.jsx","cmps/ReviewModal.jsx","services/util.service.js","cmps/ReviewPreview.jsx","cmps/ReviewList.jsx","cmps/ToyMessagePreview.jsx","cmps/ToyMessageList.jsx","services/socket.service.js","cmps/ToyMessages.jsx","cmps/ToyPopup.jsx","services/review.service.js","store/review.actions.js","pages/ToyDetails.jsx","pages/ToyEdit.jsx","cmps/ToyChartPie.jsx","cmps/ToyChartDoughnut.jsx","cmps/ToyChart.jsx","store/user.actions.js","pages/ToyLoginSignup.jsx","cmps/ToyUserEdit.jsx","pages/ToyUserDetails.jsx","pages/ToyReviews.jsx","routes.js","cmps/user-msg.jsx","cmps/RightNav.jsx","cmps/Burger.jsx","cmps/ToyHeader.jsx","root-cmp.jsx","index.js"],"names":["initialState","toys","filterBy","name","inStock","sortBy","selectedOptions","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","console","log","dir","response","status","window","location","assign","STORAGE_KEY_LOGGEDIN","userService","login","logout","signup","update","getLoggedinUser","JSON","parse","sessionStorage","getItem","credentials","user","setItem","stringify","_id","userInfo","Promise","resolve","reviews","isLoading","rootReducer","combineReducers","toyModule","state","action","type","filter","toy","toyId","map","userModule","newState","userState","reviewModule","review","reviewId","systemModule","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","_ToyHome","this","props","className","fullname","src","toyLogo","alt","to","React","Component","ToyHome","connect","_MyMap","center","lat","lng","isInfoWindowOn","acordionBranchContent","heading","position","content","tel","web","open","onMapClicked","ev","setState","latLng","onMarkerClicked","onInfoWindowClose","onBranchClick","idx","currBranchSelected","currBranchDetails","google","zoom","initialCenter","onClick","containerStyle","width","height","margin","currBranch","onClose","visible","allowZeroExpanded","MyMap","GoogleApiWrapper","apiKey","ToyAbout","animatedComponents","makeAnimated","ToyFilter","options","value","label","options2","handleChangeSelect","event","updatedSelect","option","handleChange","onSubmit","preventDefault","TextField","variant","placeholder","onChange","closeMenuOnSelect","components","isMulti","id","htmlFor","ToyPreview","onRemoveToy","onEditToy","price","toLocaleString","isAdmin","stopPropagation","ToyList","ToyAdd","labels","target","field","prevState","handleSelectChange","length","onAddToy","onToggleAdd","loadLabels","toLowerCase","required","toyService","query","getById","save","remove","savedToy","updatedToy","ts","eventBusService","on","eventName","listener","callListener","detail","addEventListener","removeEventListener","emit","dispatchEvent","CustomEvent","showUserMsg","txt","showSuccessMsg","showErrorMsg","loadToys","dispatch","toyToSave","myBus","_ToyApp","isAdd","history","push","onHandleChange","resetFilter","mapDispatchToProps","Array","isArray","ToyApp","ReviewModal","comment","rating","hover","onAddReview","toggleModal","addToyReview","setRating","setHover","multiline","rows","color","Rating","size","onChangeActive","newHover","emptyIcon","style","opacity","fontSize","Box","sx","ml","Button","fullWidth","utilService","makeId","possible","i","charAt","Math","floor","random","makeLorem","words","getRandomIntInclusive","min","max","ceil","formateDate","d","Date","getDate","slice","getMonth","getFullYear","getHours","getMinutes","ReviewPreview","removeToyReview","hasOwnProperty","Avatar","toUpperCase","readOnly","createdAt","ReviewList","ToyMessagePreview","message","writer","text","date","ToyMessageList","messages","Fragment","socketService","socket","setup","io","cb","off","removeAllListeners","terminate","createSocketService","ToyMessages","typingMsg","addMsg","newMsg","addTypingMsg","onChangeMessage","e","msg","onSubmitMessage","from","aiResponse","newMessage","setTimeout","toggleChat","ToyPopup","children","reviewService","add","queryStr","userId","addedReview","loadReviews","removeReview","_ToyDetails","isChatOpen","isReviewAdd","toggleReviewAdd","escFunction","keyCode","match","addReview","document","body","ToyDetails","_ToyEdit","Input","ToyEdit","ToyChartPie","toyData","datasets","backgroundColor","borderColor","borderWidth","maintainAspectRatio","ToyChartDoughnut","ToyChart","toyTypes","toyCounts","j","indexOf","calcChartPie","toyPrices","calcChartDoughnut","onLogin","then","catch","err","onSignup","_ToyLoginSignup","isSignup","AcordionContent","toggleSignup","validate","values","errors","username","password","onFormSubmit","setSubmitting","TextFieldOutlined","Container","component","maxWidth","Typography","initialValues","isSubmitting","autoComplete","as","disabled","Grid","container","item","allowMultipleExpanded","singleAccordion","ToyLoginSignup","_ToyUserEdit","handleEdit","ToyUserEdit","_ToyUserDetails","isEdit","onEditUser","toggleEdit","ToyUserDetails","_ToyReviews","routes","path","UserMsg","removeEvent","msgClass","RightNav","toggleOpen","onLogout","exact","Burger","_ToyHeader","isMobile","handleResize","innerWidth","ToyHeader","RootCmp","route","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d19e64b6.chunk.js","sourcesContent":["const initialState = {\r\n    toys: [],\r\n    filterBy: {\r\n        name: '',\r\n        inStock: false,\r\n        sortBy: 'all',\r\n        selectedOptions: []\r\n    },\r\n}\r\nexport function toyReducer(state = initialState, action) {\r\n    var toys\r\n    switch (action.type) {\r\n        case 'SET_TOYS':\r\n            return { ...state, toys: action.toys }\r\n\r\n        case 'REMOVE_TOY':\r\n            toys = state.toys.filter(toy => toy._id !== action.toyId)\r\n            return { ...state, toys }\r\n\r\n        case 'ADD_TOY':\r\n            return { ...state, toys: [...state.toys, action.toy] }\r\n\r\n        case 'UPDATE_TOY':\r\n            toys = state.toys.map(toy => (toy._id === action.toy._id) ? action.toy : toy)\r\n            return { ...state, toys }\r\n\r\n        case 'SET_FILTER':\r\n            return { ...state, filterBy: { ...state.filterBy, ...action.filterBy } }\r\n\r\n        default:\r\n            return { ...state }\r\n    }\r\n}\r\n","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}","import { httpService } from './http.service'\r\n\r\n\r\nconst STORAGE_KEY_LOGGEDIN = 'loggedinUser'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    update,\r\n    getLoggedinUser\r\n}\r\n\r\nwindow.userService = userService;\r\n\r\n// function login(credentials) {\r\n//     return storageService.query(STORAGE_KEY).then(users => {\r\n//         const user = users.find(user => user.username === credentials.username &&\r\n//                     user.password === credentials.password)\r\n//         if (user) {\r\n//             sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(user))\r\n//         }\r\n//         return user;\r\n//     })    \r\n// }\r\n\r\n\r\n// function signup(userInfo) {\r\n//     return storageService.post(STORAGE_KEY, userInfo)\r\n//         .then((user) => {\r\n//             sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(user))\r\n//             return user;\r\n//         })\r\n// }\r\n\r\n\r\n\r\nasync function login(credentials) {\r\n    // const res = await axios.post('http://localhost:3030/api/auth/login', credentials)\r\n    const user = await httpService.post(`auth/login`, credentials)\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nasync function update(credentials) {\r\n    // const res = await axios.post('http://localhost:3030/api/auth/login', credentials)\r\n    const user = await httpService.put(`user/${credentials._id}`, credentials)\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nasync function signup(userInfo) {\r\n    // const res = await axios.post('http://localhost:3030/api/auth/signup', userInfo)\r\n    const user = await httpService.post('auth/signup', userInfo)\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nasync function logout() {\r\n    // await axios.post('http://localhost:3030/api/auth/logout')\r\n    await httpService.post('auth/logout')\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, null)\r\n    return Promise.resolve()\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN))\r\n}\r\n","import { userService } from '../services/user.service.js'\r\n\r\n\r\nconst initialState = {\r\n    user: userService.getLoggedinUser(),\r\n}\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    switch (action.type) {\r\n        case 'UPDATE_USER':\r\n            newState = { ...state, user: { ...state.user, ...action.user } }\r\n            break;\r\n        case 'SET_USER':\r\n            newState = { ...state, user: action.user }\r\n            break;\r\n        default:\r\n    }\r\n    // For debug:\r\n    window.userState = newState;\r\n    return newState;\r\n\r\n}\r\n","const initialState = {\r\n  reviews: [],\r\n}\r\n\r\nexport function reviewReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews }\r\n    case 'ADD_REVIEW':\r\n      return { ...state, reviews: [...state.reviews, action.review] }\r\n    case 'REMOVE_REVIEW':\r\n      return { ...state, reviews: state.reviews.filter(review => review._id !== action.reviewId) }\r\n    case 'UPDATE_REVIEW':\r\n      return {\r\n        ...state,\r\n        reviews: state.reviews.map(review =>\r\n          review._id === action.review._id ? action.review : review\r\n        )}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}\r\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\r\n// const thunk = ReduxThunk.default\r\n\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nimport { toyReducer } from './toy.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { reviewReducer } from './review.reducer.js'\r\nimport { systemReducer } from './system.reducer.js'\r\n\r\nconst rootReducer = combineReducers({\r\n    toyModule: toyReducer,\r\n    userModule: userReducer,\r\n    reviewModule: reviewReducer,\r\n    systemModule: systemReducer\r\n})\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/toyLogo.3686c25a.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport toyLogo from '../assets/img/toyLogo.svg';\r\nimport { connect } from 'react-redux'\r\n\r\nexport class _ToyHome extends React.Component {\r\n    render() {\r\n        const { user } = this.props\r\n        return (\r\n            <div className=\"home-page full\" >\r\n                <div className=\"hero-text\">\r\n                    <h1 className=\"elegantshadow\">Welcome {user && <span>{user.fullname}</span>} to MasterToy !</h1>\r\n                    <img src={toyLogo} alt=\"MasterToy\" />\r\n                    <Link to='/toy'>Shop Now!</Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\n\r\nexport const ToyHome = connect(mapStateToProps, null)(_ToyHome)\r\n\r\n","\r\nimport { Component } from 'react';\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\r\nimport {\r\n    Accordion,\r\n    AccordionItem,\r\n    AccordionItemHeading,\r\n    AccordionItemButton,\r\n    AccordionItemPanel,\r\n} from 'react-accessible-accordion';\r\nimport 'react-accessible-accordion/dist/fancy-example.css';\r\n\r\n\r\nclass _MyMap extends Component {\r\n\r\n    state = {\r\n        center: {\r\n            lat: 32.109333,\r\n            lng: 34.855499\r\n        },\r\n        isInfoWindowOn: false\r\n    }\r\n\r\n    acordionBranchContent = [\r\n        {\r\n            heading: 'Tel Aviv Branch',\r\n            position: { lat: 32.09151422942391, lng: 34.77710737828437 },\r\n            content: 'Even Gbirol Street, 154 ',\r\n            tel: '03-5856925 ',\r\n            web: 'www.toy-center-tel-aviv.com',\r\n            open: 'Sunday - Thursday: 10am - 8pm',\r\n        },\r\n        {\r\n            heading: 'Bat Yam Branch',\r\n            position: { lat: 32.02131898166023, lng: 34.745406250953906 },\r\n            content: 'Arlozerov Street, 13 ',\r\n            tel: '03-4549985 ',\r\n            web: 'www.toy-center-bat-yam.com',\r\n            open: 'Sunday - Thursday: 8am - 5pm',\r\n        },\r\n        {\r\n            heading: 'Rehovot Branch',\r\n            position: { lat: 31.89531491976764, lng: 34.80132105953836 },\r\n            content: 'Sderot Nurdau Street, 128  ',\r\n            tel: '03-4452354 ',\r\n            web: 'www.toy-center-rehovot.com',\r\n            open: 'Sunday - Thursday: 11am - 7pm',\r\n        },\r\n    ]\r\n\r\n    onMapClicked = (props, map, ev) => {\r\n        this.setState({ center: { lat: ev.latLng.lat(), lng: ev.latLng.lng() } })\r\n    }\r\n\r\n    onMarkerClicked = () => {\r\n        this.setState({ isInfoWindowOn: true })\r\n    }\r\n\r\n    onInfoWindowClose = () => {\r\n        this.setState({ isInfoWindowOn: false })\r\n    }\r\n\r\n    onBranchClick = (idx) => {\r\n        this.setState({\r\n            isInfoWindowOn: true,\r\n            currBranchSelected: this.acordionBranchContent[idx].position,\r\n            currBranchDetails: this.acordionBranchContent[idx].heading\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            width: \"%\",\r\n            height: \"500px\",\r\n            position: \"relative\",\r\n            margin: \"20px\"\r\n        };\r\n\r\n        return (\r\n\r\n            <>\r\n                <Map\r\n                    google={this.props.google}\r\n                    zoom={10}\r\n                    initialCenter={{ lat: 32.02393895923443, lng: 34.784192198698780 }}\r\n                    onClick={this.onMapClicked}\r\n                    center={{ lat: 32.02393895923443, lng: 34.784192198698780 }}\r\n                    containerStyle={style}\r\n                >\r\n\r\n                    {this.acordionBranchContent.map((currBranch,idx) => (\r\n                        <Marker key={idx}\r\n                            position={currBranch.position}\r\n                            name={currBranch.heading}\r\n                            onClick={this.onMarkerClicked}\r\n                        />\r\n                    ))}\r\n\r\n                    <InfoWindow\r\n                        onClose={this.onInfoWindowClose}\r\n                        position={this.state.currBranchSelected}\r\n                        visible={this.state.isInfoWindowOn}\r\n                    >\r\n                        <div>\r\n                            <h1>{this.state.currBranchDetails}</h1>\r\n                        </div>\r\n                    </InfoWindow>\r\n                </Map>\r\n                <Accordion allowZeroExpanded >\r\n                    {this.acordionBranchContent.map((currBranch, idx) =>\r\n                    (<AccordionItem key={idx}>\r\n                        <AccordionItemHeading onClick={() => this.onBranchClick(`${idx}`)}>\r\n                            <AccordionItemButton >\r\n                                {currBranch.heading}\r\n                            </AccordionItemButton>\r\n                        </AccordionItemHeading>\r\n                        <AccordionItemPanel>\r\n                            <h2>{currBranch.heading}</h2>\r\n                            <p>Addres: {currBranch.content}</p>\r\n                            <p>Tel: {currBranch.tel}</p>\r\n                            <p>Web: {currBranch.web}</p>\r\n                            <p>Open Hours: {currBranch.open}</p>\r\n                        </AccordionItemPanel>\r\n                    </AccordionItem>)\r\n                    )}\r\n                </Accordion>\r\n\r\n\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport const MyMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyDCdZ8RItKP9Q3-hCXKS3HqnfnRXbpVLk8')\r\n})(_MyMap)","import React from 'react'\r\nimport { MyMap } from '../cmps/MyMap'\r\n\r\n\r\nexport class ToyAbout extends React.Component {\r\n    render() {\r\n        return (\r\n            <section className=\"about\">\r\n                <MyMap />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport { TextField } from '@material-ui/core';\r\nconst animatedComponents = makeAnimated();\r\n\r\nexport class ToyFilter extends React.Component {\r\n    state = {\r\n        selectedOptions: [],\r\n    };\r\n\r\n    options = [\r\n        { value: 'On wheels', label: 'On wheels' },\r\n        { value: 'Box game', label: 'Box game' },\r\n        { value: 'Art', label: 'Art' },\r\n        { value: 'Baby', label: 'Baby' },\r\n        { value: 'Doll', label: 'Doll' },\r\n        { value: 'Puzzle', label: 'Puzzle' },\r\n        { value: 'Outdoor', label: 'Outdoor' },\r\n    ];\r\n    options2 = [\r\n        { value: 'all', label: 'All', name: 'sortBy' },\r\n        { value: 'name', label: 'Name', name: 'sortBy' },\r\n        { value: 'date', label: 'Date', name: 'sortBy' },\r\n        { value: 'price', label: 'Price', name: 'sortBy' },\r\n    ];\r\n    handleChangeSelect = (event) => {\r\n        const updatedSelect = event.map(option => option)\r\n        this.setState({ selectedOptions: updatedSelect }, () => {\r\n            this.props.handleChange(event);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { handleChange } = this.props\r\n        const { selectedOptions } = this.state\r\n        return (\r\n            <form className=\"toy-filter\" onSubmit={(ev) => { ev.preventDefault(); }}>\r\n\r\n                <div className=\"filter\">\r\n                    <TextField type='search' variant=\"outlined\" label=\"Filter by toy name\" name='name' className=\"toy-input\" placeholder='Filter by toy name' onChange={handleChange} />\r\n\r\n                    <Select className=\"filter-toy\" name='sortBy'\r\n                        onChange={handleChange}\r\n                        options={this.options2}\r\n                    >\r\n\r\n                    </Select>\r\n\r\n                    <Select\r\n                        onChange={this.handleChangeSelect}\r\n                        closeMenuOnSelect={false}\r\n                        components={animatedComponents}\r\n                        isMulti\r\n                        value={selectedOptions}\r\n                        options={this.options}\r\n                    />\r\n\r\n\r\n                    <div className=\"toggle_radio\">\r\n                        <input value={false} name=\"inStock\" onChange={handleChange} type=\"radio\" className=\"toggle_option\" id=\"first_toggle\" />\r\n                        <label className=\"toggle_label\" htmlFor=\"first_toggle\">All</label>\r\n                        <input value={true} name=\"inStock\" onChange={handleChange} type=\"radio\" className=\"toggle_option\" id=\"second_toggle\" />\r\n                        <label className=\"toggle_label\" htmlFor=\"second_toggle\">Stock</label>\r\n                        <div className=\"toggle_option_slider\"></div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n            </form >\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\nToyFilter.propTypes = {\r\n    handleChange: PropTypes.func.isRequired,\r\n}","import PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\nexport function ToyPreview({ toy, onRemoveToy, onEditToy, user }) {\r\n    return (\r\n        <Link to={`/toy/details/${toy._id}`}>\r\n            <li className='toy-preview'>\r\n                <p>{toy.name}</p>\r\n                <img src={`https://robohash.org/${toy.name}`} alt=\"toy\" />\r\n                <span><p>Price:{toy.price.toLocaleString()}$</p></span>\r\n                {!toy.inStock && <span className=\"sold-out\">Sold out</span>}\r\n                {user && user.isAdmin && <div className=\"toy-preview-btns\">\r\n                    <button onClick={(event) => { event.preventDefault(); event.stopPropagation(); onRemoveToy(toy._id) }} className=\"trash-btn\"><i className=\"fas fa-trash\"></i></button>\r\n                    <button onClick={(event) => { event.preventDefault(); event.stopPropagation(); onEditToy(toy._id) }} className=\"edit-btn\"><i className=\"fas fa-edit\"></i></button>\r\n                </div>}\r\n            </li>\r\n        </Link>\r\n    )\r\n}\r\n\r\nToyPreview.propTypes = {\r\n    onEditToy: PropTypes.func.isRequired,\r\n    onRemoveToy: PropTypes.func.isRequired,\r\n    toy: PropTypes.object.isRequired,\r\n}\r\n\r\n","import PropTypes from 'prop-types'\r\nimport { ToyPreview } from './ToyPreview'\r\n\r\nexport function ToyList({ toys, onRemoveToy, onEditToy, user }) {\r\n    return (\r\n        <div className=\"toy-container\">\r\n            <ul className=\"toy-list\">\r\n                {toys.map(toy => <ToyPreview toy={toy} user={user} key={toy._id} onEditToy={onEditToy} onRemoveToy={onRemoveToy} />)}\r\n            </ul>\r\n        </div >\r\n    )\r\n}\r\n\r\nToyList.propTypes = {\r\n    onEditToy: PropTypes.func.isRequired,\r\n    onRemoveToy: PropTypes.func.isRequired,\r\n    toys: PropTypes.array.isRequired\r\n}","import React from 'react';\r\nimport Select from 'react-select';\r\n\r\nexport class ToyAdd extends React.Component {\r\n    state = {\r\n        toy: {\r\n            name: '',\r\n            price: '',\r\n            labels: [],\r\n        },\r\n        options: [],\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadLabels()\r\n    }\r\n\r\n    loadLabels() {\r\n        const labels = ['On wheels', 'Box game', 'Art', 'Baby', 'Doll', 'Puzzle', 'Outdoor']\r\n        const options = labels.map(label => {\r\n            return { value: label.toLowerCase(), label }\r\n        })\r\n        this.setState((prevState) => ({ ...prevState, options }))\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const value = (ev.target.type === 'number') ? +ev.target.value : ev.target.value;\r\n        const field = ev.target.name;\r\n        this.setState((prevState) => ({ ...prevState, toy: { ...prevState.toy, [field]: value } }))\r\n    }\r\n\r\n    handleSelectChange = (ev) => {\r\n        const value = ev;\r\n        if (value.length > 3) return;\r\n        this.setState((prevState) => ({ ...prevState, toy: { ...prevState.toy, labels: value } }))\r\n    }\r\n\r\n    onSubmit = (ev) => {\r\n        ev.preventDefault()\r\n        const { onAddToy, onToggleAdd } = this.props\r\n        onAddToy(this.state.toy)\r\n        onToggleAdd()\r\n    }\r\n\r\n    render() {\r\n        const { toy, options } = this.state\r\n        const { onToggleAdd } = this.props\r\n        return (\r\n            <div className=\"add-toy\">\r\n                <form onSubmit={(event) => { this.onSubmit(event) }}>\r\n                    <label htmlFor=\"name\">\r\n                        <input type=\"text\"\r\n                            name=\"name\"\r\n                            placeholder=\"Enter toy name \" id=\"name\"\r\n                            value={toy.name}\r\n                            onChange={this.handleChange}\r\n                            required\r\n                        />\r\n                    </label>\r\n\r\n                    <label htmlFor=\"price\">\r\n                        <input type=\"number\"\r\n                            name=\"price\"\r\n                            placeholder=\"Enter toy price\"\r\n                            id=\"price\"\r\n                            value={toy.price} onChange={this.handleChange}\r\n                            required\r\n                        />\r\n                    </label>\r\n\r\n                    <Select\r\n                        className=\"select\"\r\n                        value={toy.labels}\r\n                        isMulti\r\n                        onChange={this.handleSelectChange}\r\n                        options={options}\r\n                        placeholder=\"Choose up to 3 labels :\"\r\n                    />\r\n\r\n                    <div className=\"add-btns\">\r\n                        <button className=\"btn add\" type=\"submit\" >\r\n                            <span className=\"fas fa-plus\"></span>\r\n                        </button>\r\n\r\n                        <button className=\"btn cancel\" onClick={onToggleAdd}>\r\n                            <span className=\"fas fa-undo-alt\"></span>\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import { httpService } from './http.service'\r\n\r\nexport const toyService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n    update,\r\n\r\n}\r\nwindow.ts = toyService;\r\n\r\nasync function query(filterBy) {\r\n    // const res = await axios.get('http://localhost:3030/api/toy', { params: filterBy })\r\n    // return res.data\r\n    const toys = await httpService.get(`toy`, { params: filterBy })    \r\n    return toys\r\n}\r\n\r\nasync function getById(toyId) {\r\n    // const res = await axios.get(`http://localhost:3030/api/toy/${toyId}`)\r\n    // return res.data\r\n    const toy = await httpService.get(`toy/${toyId}`)\r\n    return toy\r\n}\r\n\r\n\r\nasync function save(toy) {\r\n    // const res = await axios.post(`http://localhost:3030/api/toy`, toy)\r\n    // return res.data\r\n    const savedToy = await httpService.post('toy', toy)\r\n    return savedToy\r\n}\r\n\r\nasync function update(toy) {\r\n    // const res = await axios.put(`http://localhost:3030/api/toy/`, toy)\r\n    // return res.data\r\n    const updatedToy = await httpService.put('toy', toy)\r\n    return updatedToy\r\n}\r\n\r\nasync function remove(toyId) {\r\n    // await axios.delete(`http://localhost:3030/api/toy/${toyId}`)\r\n    await httpService.delete(`toy/${toyId}`)\r\n}\r\n\r\n// function filterTodos(todos, filterBy) {\r\n//     switch (filterBy.sortBy) {\r\n//         case 'Active':\r\n//             todos = todos.filter(todo => !todo.isDone)\r\n//             break;\r\n//         case 'Completed':\r\n//             todos = todos.filter(todo => todo.isDone)\r\n//             break;\r\n//     }\r\n//     return todos.filter(todo => todo.text.includes(filterBy.text))\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n// function filterToys(toys, filterBy) {\r\n//     switch (filterBy.sortBy) {\r\n//         case 'date':\r\n//             toys = _sortByDate(toys)\r\n//             break;\r\n//         case 'name':\r\n//             toys = _sortByName(toys)\r\n//             break;\r\n//         case 'price':\r\n//             toys = _sortByPrice(toys)\r\n//             break;\r\n//         case 'all':\r\n//             break;\r\n//     }\r\n\r\n//     if (filterBy.selectedOptions.length > 0) {\r\n//         toys = toys.filter(toy => {\r\n//             return filterBy.selectedOptions.some(option => toy.labels.includes(option))\r\n//         })\r\n//     }\r\n\r\n//     if (filterBy.inStock === 'true') toys = toys.filter(toy => toy.inStock)\r\n\r\n//     return toys.filter(toy => toy.name.toLowerCase().includes(filterBy.name.toLowerCase()))\r\n// }\r\n\r\n// function _sortByDate(toys) {\r\n//     return toys.sort(function (a, b) {\r\n//         return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()\r\n//     });\r\n// }\r\n\r\n// function _sortByName(toys) {\r\n//     return toys.sort(function (a, b) {\r\n//         return a.name.localeCompare(b.name, \"en\", { sensitivity: 'variant' })\r\n//     });\r\n// }\r\n\r\n// function _sortByPrice(toys) {\r\n//     return toys.sort(function (a, b) {\r\n//         return a.price - b.price\r\n//     });\r\n// }\r\n\r\n// function query() {\r\n//     return storageService.query(STORAGE_KEY)\r\n// }\r\n\r\n\r\n// function save(toy) {\r\n//     if (toy._id) {\r\n//         return storageService.put(STORAGE_KEY, toy)\r\n//     } else {\r\n//         // toy.owner = userService.getLoggedinUser()\r\n//         toy._id = utilService.makeId()\r\n//         return storageService.post(STORAGE_KEY, toy)\r\n//     }\r\n// }\r\n\r\n\r\n// function remove(toyId) {\r\n//     return storageService.remove(STORAGE_KEY, toyId)\r\n// }\r\n\r\n\r\n// function getById(toyId) {\r\n//     return storageService.get(STORAGE_KEY, toyId).then(toy => {\r\n//         toy.reviews = [\r\n//             {\r\n//                 name: 'John',\r\n//                 rating: 5,\r\n//                 comment: 'Great toy!',\r\n//                 createdAt: Date.now(),\r\n//                 _id: utilService.makeId()\r\n//             }\r\n//         ]\r\n//         return toy\r\n//     })\r\n// }","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n// eventBusService.on('baba', (x)=>console.log('Hi Baba', x))\r\n// eventBusService.on('baba', (x)=>console.log('Hello Baba Ji', x))\r\n// eventBusService.emit('baba', [5, 8, 11])\r\n// setTimeout(()=>{\r\n//     eventBusService.emit('baba', 17)\r\n// }, 2000)\r\n\r\n/* Listening Component...\r\n    import {eventBusService} from 'path...event-bus-service'\r\n    eventBusService.on('some-event', (dataFromEvent) => {\r\n    do something with dataFromEvent\r\n    })\r\n\r\n   Receiving Component...\r\n    eventBusService.emit('some-event', data)\r\n*/","import { toyService } from \"../services/toy.service.js\";\r\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js'\r\n\r\nexport function loadToys(filterBy) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const toys = await toyService.query(filterBy)\r\n            // showSuccessMsg('Toys loaded successfully')\r\n            dispatch({\r\n                type: 'SET_TOYS',\r\n                toys\r\n            })\r\n        } catch (err) {\r\n            showErrorMsg('Cannot load toys')\r\n        }\r\n    }\r\n}\r\n\r\nexport function onRemoveToy(toyId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            await toyService.remove(toyId)\r\n            dispatch({\r\n                type: 'REMOVE_TOY',\r\n                toyId\r\n            })\r\n            showSuccessMsg('Toy removed')\r\n\r\n        } catch (err) {\r\n            showErrorMsg('Cannot remove toy')\r\n            console.log('Cannot remove toy', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onAddToy(toy) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await toyService.save(toy)\r\n            dispatch({\r\n                type: 'ADD_TOY',\r\n                toy: res\r\n            })\r\n            console.log('Added toy', res.data);\r\n            showSuccessMsg('Toy added')\r\n        } catch (err) {\r\n            console.log('Cannot add toy', err)\r\n            showErrorMsg('Cannot add toy')\r\n        }\r\n    }\r\n}\r\n\r\nexport function onEditToy(toyToSave) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const savedToy = await toyService.update(toyToSave)\r\n            dispatch({\r\n                type: 'UPDATE_TOY',\r\n                toy: savedToy\r\n            })\r\n            showSuccessMsg('Toy updated')\r\n            return savedToy\r\n        } catch (err) {\r\n            showErrorMsg('Cannot update toy')\r\n            console.log('Cannot save toy', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function handleChange(event, filterBy) {\r\n    return (dispatch) => {\r\n        var name, value;\r\n        var filter;\r\n        if (Array.isArray(event)) {\r\n            filter = { selectedOptions: event.map(option => option.label) }\r\n        }\r\n        else if (event.label && event.value) {\r\n            filter = { [event.name]: event.value }\r\n        }\r\n        else {\r\n            name = event.target.name;\r\n            value = event.target.value;\r\n            filter = { [name]: value }\r\n        }\r\n        dispatch({\r\n            type: 'SET_FILTER',\r\n            filterBy: filter\r\n        })\r\n        loadToys({ ...filterBy, ...filter })(dispatch)\r\n    }\r\n}\r\n\r\nexport function resetFilter() {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: 'SET_FILTER',\r\n            filterBy: { name: '', inStock: true, sortBy: 'all', selectedOptions: [] }\r\n        })\r\n    }\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { ToyFilter } from '../cmps/ToyFilter'\r\nimport { ToyList } from '../cmps/ToyList'\r\nimport { ToyAdd } from '../cmps/ToyAdd.jsx'\r\nimport { loadToys, onAddToy, onEditToy, onRemoveToy, handleChange, resetFilter } from '../store/toy.actions.js'\r\n\r\nclass _ToyApp extends React.Component {\r\n    state = {\r\n        isAdd: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadToys(this.props.filterBy)\r\n    }\r\n\r\n    onRemoveToy = (toyId) => {\r\n        this.props.onRemoveToy(toyId)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.resetFilter()\r\n    }\r\n\r\n    onAddToy = (toy) => {\r\n        toy.labels = toy.labels.map(option => option.label)\r\n        this.props.onAddToy(toy)\r\n        this.onToggleAdd()\r\n    }\r\n\r\n    onToggleAdd = () => {\r\n        this.setState({ isAdd: !this.state.isAdd })\r\n    }\r\n\r\n    onEditToy = (toyId) => {\r\n        this.props.history.push(`/toy/edit/${toyId}`)\r\n    }\r\n\r\n    onHandleChange = (event) => {\r\n        this.props.handleChange(event, this.props.filterBy)\r\n    }\r\n\r\n    render() {\r\n        const { toys, user } = this.props\r\n        const { isAdd } = this.state\r\n        return (\r\n            <main className=\"toy-app\">\r\n                <ToyFilter handleChange={this.onHandleChange} />\r\n                {isAdd && user && user.isAdmin && <ToyAdd onAddToy={this.onAddToy} onToggleAdd={this.onToggleAdd} />}\r\n                {!isAdd && user && user.isAdmin &&\r\n                    <div className=\"wrap\">\r\n                        <button onClick={this.onToggleAdd}>Add Toy</button>\r\n                    </div>\r\n                }\r\n                <ToyList toys={toys} user={user} onRemoveToy={this.onRemoveToy} onEditToy={this.onEditToy} />\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        toys: state.toyModule.toys,\r\n        filterBy: state.toyModule.filterBy,\r\n        user: state.userModule.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadToys,\r\n    onRemoveToy,\r\n    onAddToy,\r\n    onEditToy,\r\n    handleChange,\r\n    resetFilter\r\n}\r\n\r\nexport const ToyApp = connect(mapStateToProps, mapDispatchToProps)(_ToyApp)\r\n\r\n_ToyApp.propTypes = {\r\n    loadToys: PropTypes.func.isRequired,\r\n    onAddToy: PropTypes.func.isRequired,\r\n    onEditToy: PropTypes.func.isRequired,\r\n    onRemoveToy: PropTypes.func.isRequired,\r\n    handleChange: PropTypes.func.isRequired,\r\n    resetFilter: PropTypes.func.isRequired,\r\n    toys: PropTypes.array.isRequired,\r\n    filterBy: PropTypes.object.isRequired,\r\n}","import React from 'react';\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { Rating, Box } from '@mui/material';\r\nimport StarIcon from '@mui/icons-material/Star';\r\n\r\nexport class ReviewModal extends React.Component {\r\n    state = {\r\n        open: this.props.open,\r\n        review: { comment: '', rating: 0 },\r\n        hover: -1\r\n    }\r\n\r\n\r\n    labels = {\r\n        1: 'Useless',\r\n        2: 'Poor',\r\n        3: 'Ok',\r\n        4: 'Good',\r\n        5: 'Excellent',\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setState({ review: { comment: '', rating: null }, open: this.props.open })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.type === 'number' ? +target.value : target.value\r\n        this.setState(prevState => ({ ...prevState, review: { ...prevState.review, [field]: value } }))\r\n    }\r\n\r\n    onAddReview = (ev) => {\r\n        ev.preventDefault()\r\n        const { review, hover } = this.state\r\n        const { rating } = this.state.review\r\n        if (!rating) return\r\n        this.props.toggleModal()\r\n        review.comment = this.labels[hover !== -1 ? hover : rating] + ': ' + review.comment;\r\n        this.props.addToyReview(review)\r\n        this.setState(prevState => ({\r\n            ...prevState,\r\n            review: { ...prevState.review, rating: null },\r\n            open: false\r\n        }))\r\n    }\r\n\r\n    setRating = ({ target }) => {\r\n        this.setState(prevState => ({ review: { ...prevState.review, rating: +target.value } }))\r\n    }\r\n\r\n    setHover = (hover) => {\r\n        this.setState({ hover })\r\n    }\r\n\r\n    render() {\r\n        const { comment, rating } = this.state.review\r\n        const { hover } = this.state\r\n        const { open, toggleModal } = this.props\r\n        return (\r\n            <div>\r\n                <Modal open={open} onClose={toggleModal}>\r\n                    <form className=\"review-add\" onSubmit={this.onAddReview}>\r\n                        <h2>Review</h2>\r\n                        <div className=\"modal-body\">\r\n                            <TextField\r\n                                id=\"outlined-multiline-flexible\"\r\n                                label=\"Enter Review\"\r\n                                variant={'outlined'}\r\n                                type=\"text\" name=\"comment\"\r\n                                multiline\r\n                                rows={4}\r\n                                value={comment}\r\n                                color={'primary'}\r\n                                onChange={this.handleChange}\r\n                                required\r\n                            />\r\n                            <div className=\"modal-rating\">\r\n\r\n                                <Rating\r\n                                    onChange={this.setRating}\r\n                                    size=\"large\"\r\n                                    onChangeActive={(event, newHover) => {\r\n                                        this.setHover(newHover);\r\n                                    }}\r\n                                    emptyIcon={<StarIcon style={{ opacity: 0.55 }} fontSize=\"inherit\" />}\r\n                                    value={rating}\r\n                                />\r\n                                {hover !== -1 && (\r\n                                    <Box sx={{ ml: 2 }}>{this.labels[hover !== -1 ? hover : rating]}</Box>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                        <Button\r\n                            fullWidth\r\n                            variant={'contained'}\r\n                            color={'primary'}\r\n                            type=\"submit\"\r\n                        >\r\n                            Add Review\r\n                        </Button>\r\n                    </form>\r\n                </Modal>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n    formateDate\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction formateDate(d) {\r\n    d = new Date(d);\r\n    return ('0' + d.getDate()).slice(-2) + '/' + ('0' + (d.getMonth() + 1)).slice(-2) + '/' +\r\n        d.getFullYear() + ', ' + ('0' + d.getHours()).slice(-2) + ':' + ('0' + d.getMinutes()).slice(-2);\r\n}\r\n\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { utilService } from '../services/util.service'\r\nimport { Rating } from '@mui/material';\r\nimport { Avatar } from '@material-ui/core';\r\n\r\nexport function ReviewPreview({ review, removeToyReview, user }) {\r\n    if (!review.toy) { return <div>Loading...</div> }\r\n    return (\r\n\r\n        <section className=\"review\">\r\n            {(user && ((user._id === review.user._id) || user.hasOwnProperty('isAdmin'))) &&\r\n                <button onClick={() => { removeToyReview(review._id) }} className=\"delete-review pointer\">&times;</button>\r\n            }\r\n            <div className=\"review-header\">\r\n                <Avatar >{review.user.fullname[0].toUpperCase()}</Avatar>\r\n                <p> {review.user.fullname}</p>\r\n                <Rating value={review.rating} readOnly />\r\n            </div>\r\n            <div className=\"review-comment\">\r\n                <p className=\"toy-name\">{review.toy.name}</p>\r\n                <p> {review.comment}</p>\r\n            </div>\r\n            <span>{utilService.formateDate(review.createdAt)}</span>\r\n\r\n\r\n\r\n        </section >\r\n    )\r\n}\r\nReviewPreview.propTypes = {\r\n    review: PropTypes.object.isRequired\r\n}\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { ReviewPreview } from './ReviewPreview'\r\n\r\nexport function ReviewList({ reviews, removeToyReview, user }) {\r\n    return (\r\n        <div className=\"reviews-list\">\r\n            {reviews.map((review, idx) => <ReviewPreview key={idx} user={user} removeToyReview={removeToyReview} review={review} />)}\r\n        </div>\r\n    )\r\n}\r\nReviewList.propTypes = {\r\n    reviews: PropTypes.array.isRequired\r\n}","import React from 'react'\r\n\r\nexport function ToyMessagePreview({ message }) {\r\n    return (\r\n        <div className=\"ai-person-container\">\r\n            <div className={message.writer}>\r\n                <p>{message.text}</p>\r\n            </div>\r\n            <span className={`${message.writer}-date`}>{message.date}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from 'react'\r\nimport { ToyMessagePreview } from './ToyMessagePreview'\r\n\r\nexport function ToyMessageList({ messages }) {\r\n    return (\r\n        <React.Fragment>\r\n            {messages.map((message, idx) => <ToyMessagePreview key={idx} message={message} />)}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\n","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production') ? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n// var socketIsReady = false;\r\nsocketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n\r\n    },\r\n    off(eventName, cb = null) {\r\n      if (!socket) return;\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', { from: 'Someone', txt: 'Aha it worked!' })\r\n    },\r\n  }\r\n  window.listenersMap = listenersMap;\r\n  return socketService\r\n}\r\n\r\n\r\n// Basic Tests\r\n// function cb(x) {console.log('Socket Test - Expected Puk, Actual:', x)}\r\n// socketService.on('baba', cb)\r\n// socketService.on('baba', cb)\r\n// socketService.on('baba', cb)\r\n// socketService.on('mama', cb)\r\n// socketService.emit('baba', 'Puk')\r\n// socketService.off('baba', cb)\r\n\r\n\r\nsocketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, review => {\r\n  console.log('Review about me!', review);\r\n\r\n})\r\n\r\n","import React from 'react'\r\nimport { ToyMessageList } from './ToyMessageList'\r\nimport { socketService } from '../services/socket.service'\r\nimport { TextField, Button } from '@material-ui/core'\r\nimport SendIcon from '@mui/icons-material/Send';\r\nexport class ToyMessages extends React.Component {\r\n    state = {\r\n        message: {\r\n            text: '',\r\n            date: null\r\n        },\r\n        messages: [],\r\n        user: this.props.user,\r\n        typingMsg: null,\r\n    }\r\n\r\n    componentDidMount() {\r\n        socketService.setup()\r\n        socketService.emit('chat topic', this.props.toy._id)\r\n        socketService.on('chat addMsg', this.addMsg)\r\n        socketService.on('chat addTypingMsg', this.addTypingMsg)\r\n\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socketService.off('chat addMsg', this.addMsg)\r\n        socketService.off('chat addTypingMsg', this.addTypingMsg)\r\n        socketService.terminate()\r\n        // clearTimeout(this.timeout)\r\n    }\r\n\r\n\r\n    addMsg = newMsg => {\r\n        newMsg.writer = (this.state.user && newMsg.user === this.state.user.fullname) ? 'person' : 'ai'\r\n        this.setState(prevState => ({ ...prevState, messages: [...prevState.messages, newMsg] }))\r\n        // if (this.state.isBotMode) this.sendBotResponse();\r\n    }\r\n    addTypingMsg = typingMsg => {\r\n        this.setState(prevState => ({ ...prevState, typingMsg }))\r\n    }\r\n\r\n    // sendBotResponse = () => {\r\n    //     // Handle case: send single bot response (debounce).\r\n    //     this.timeout && clearTimeout(this.timeout)\r\n    //     this.timeout = setTimeout(() => {\r\n    //         this.setState(prevState => ({ msgs: [...prevState.msgs, { from: 'Bot', txt: 'You are amazing!' }] }))\r\n    //     }, 1500)\r\n    // }\r\n\r\n\r\n    onChangeMessage = (e) => {\r\n        const { value } = e.target\r\n        const { user } = this.props\r\n        const msg = (value.length > 0) ? `${user?.fullname || 'Guest'} is typing...` : null\r\n        socketService.emit('chat typing', msg)\r\n        this.setState(prevState => ({\r\n            ...prevState,\r\n            message: {\r\n                ...prevState.message,\r\n                text: value\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmitMessage = (e) => {\r\n        e.preventDefault()\r\n        const { message, user } = this.state\r\n        const date = new Date().toLocaleString()\r\n        message.writer = 'person'\r\n        const from = user?.fullname || 'Guest'\r\n        const text = `${from}: ${message.text}`\r\n        socketService.emit('chat newMsg', { text, user: from, date })\r\n        socketService.emit('chat typing', null)\r\n\r\n        this.setState(prevState => ({\r\n            ...prevState,\r\n            message: { text: '', date: null },\r\n\r\n        }))\r\n    }\r\n\r\n    aiResponse = () => {\r\n        // if(this.state.botMode)\r\n        const { messages } = this.state\r\n        const newMessage = {\r\n            text: 'Support: Yes honey!',\r\n            date: new Date().toLocaleString(),\r\n            writer: 'ai'\r\n        }\r\n        setTimeout(() => {\r\n            this.setState(prevState => ({\r\n                ...prevState,\r\n                messages: [...messages, newMessage],\r\n            }))\r\n        }, 1000)\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const { messages, message, typingMsg } = this.state\r\n        return (\r\n            <div className=\"chat-window flex\">\r\n                <div className=\"chat-box\">\r\n                    <h1>Lets Chat</h1>\r\n                    {typingMsg && <p>{typingMsg}</p>}\r\n                    <div className=\"chat-content\">\r\n                        <ToyMessageList messages={messages} />\r\n                    </div>\r\n                    <div className=\"chat-controller\">\r\n                        <form className=\"flex justify-space-between\" onSubmit={this.onSubmitMessage}>\r\n                            <TextField required variant=\"outlined\" label=\"Chat with me\" type=\"text\" name=\"chat-input\" value={message.text} onChange={this.onChangeMessage} />\r\n                            <Button type=\"submit\" color=\"primary\"><SendIcon /></Button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <button onClick={this.props.toggleChat} className=\"closeChat\">x</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nexport function ToyPopup(props) {\r\n    return (\r\n        <section className=\"popup\">\r\n\r\n\r\n            <div className=\"main\">\r\n                {props.children}\r\n            </div>\r\n\r\n\r\n        </section>\r\n    )\r\n}\r\n","import { httpService } from './http.service'\r\n// import { socketService, SOCKET_EVENT_REVIEW_ADDED } from './socket.service'\r\n\r\nexport const reviewService = {\r\n  add,\r\n  query,\r\n  remove\r\n}\r\n\r\n\r\n// More ways to send query params:\r\n// return axios.get('api/toy/?id=1223&balance=13')\r\n// return axios.get('api/toy/?', {params: {id: 1223, balanse:13}})\r\n\r\nasync function query(filterBy) {\r\n  var queryStr = (!filterBy) ? '' : `?userId=${(filterBy.hasOwnProperty('userId') ? filterBy.userId : '')}&toyId=${(filterBy.hasOwnProperty('toyId') ? filterBy.toyId : '')}`\r\n  const reviews = await httpService.get(`review${queryStr}`)\r\n  return reviews\r\n  // return storageService.query('review')\r\n}\r\n\r\nasync function remove(reviewId) {\r\n  return await httpService.delete(`review/${reviewId} `)\r\n  // return storageService.remove('review', reviewId)\r\n\r\n}\r\nasync function add(review) {\r\n  const addedReview = await httpService.post(`review`, review)\r\n  // review.byUser = userService.getLoggedinUser()\r\n  // review.aboutUser = await userService.getById(review.aboutUserId)\r\n  // const addedReview = storageService.post('review', review)\r\n  return addedReview\r\n}\r\n\r\n// This IIFE functions for Dev purposes \r\n// It allows testing of real time updates (such as sockets) by listening to storage events\r\n// (async () => {\r\n//   var reviews = await storageService.query('review')\r\n\r\n//   // Dev Helper: Listens to when localStorage changes in OTHER browser\r\n//   window.addEventListener('storage', async () => {\r\n//     console.log('Storage updated');\r\n//     const freshReviews = await storageService.query('review')\r\n//     if (freshReviews.length === reviews.length + 1 ){\r\n//       console.log('Review Added - localStorage updated from another browser')\r\n//       socketService.emit(SOCKET_EVENT_REVIEW_ADDED, freshReviews[freshReviews.length-1])\r\n//     }\r\n//     reviews = freshReviews\r\n//   });\r\n// })()\r\n\r\n","import { reviewService } from '../services/review.service'\r\n// import { socketService, SOCKET_EVENT_REVIEW_ADDED } from '../services/socket.service'\r\n\r\nexport function loadReviews(filterBy) {\r\n  return async dispatch => {\r\n    try {\r\n      const reviews = await reviewService.query(filterBy)\r\n\r\n      dispatch({ type: 'SET_REVIEWS', reviews })\r\n      // socketService.on(SOCKET_EVENT_REVIEW_ADDED, (review) =>{\r\n      //   dispatch({ type: 'ADD_REVIEW', review })\r\n      // })\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in loadReviews', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function addReview(review) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedReview = await reviewService.add(review)\r\n      dispatch({ type: 'ADD_REVIEW', review: addedReview })\r\n      return addedReview\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in addReview', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeReview(reviewId) {\r\n  return async dispatch => {\r\n    try {\r\n      console.log(`reviewId`, reviewId)\r\n      await reviewService.remove(reviewId)\r\n      dispatch({ type: 'REMOVE_REVIEW', reviewId })\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in removeReview', err)\r\n    }\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport { ReviewModal } from '../cmps/ReviewModal'\r\nimport { toyService } from '../services/toy.service'\r\nimport { ReviewList } from '../cmps/ReviewList'\r\nimport { ToyMessages } from '../cmps/ToyMessages'\r\nimport { ToyPopup } from '../cmps/ToyPopup'\r\nimport { addReview, loadReviews, removeReview } from '../store/review.actions'\r\nimport ChatRoundedIcon from '@mui/icons-material/ChatRounded';\r\n\r\n\r\n\r\n\r\nexport class _ToyDetails extends React.Component {\r\n    state = {\r\n        toy: null,\r\n        isChatOpen: false,\r\n        isReviewAdd: false,\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { toyId } = this.props.match.params\r\n        const toy = await toyService.getById(toyId)\r\n        await this.props.loadReviews({ toyId })\r\n        this.setState(prevState => ({ ...prevState, toy }))\r\n        document.body.addEventListener(\"keydown\", this.escFunction, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.removeEventListener(\"keydown\", this.escFunction, false);\r\n    }\r\n\r\n    toggleChat = () => {\r\n        this.setState(prevState => ({ ...prevState, isChatOpen: !prevState.isChatOpen }))\r\n    }\r\n\r\n    toggleReviewAdd = () => {\r\n        this.setState(prevState => ({ ...prevState, isReviewAdd: !prevState.isReviewAdd }))\r\n    }\r\n\r\n    escFunction = (event) => {\r\n        if (event.keyCode === 27) {\r\n            this.setState(prevState => ({ ...prevState, isChatOpen: false }))\r\n        }\r\n    }\r\n\r\n    toggleModal = () => {\r\n        this.setState(prevState => ({ ...prevState, isReviewAdd: !prevState.isReviewAdd }))\r\n    }\r\n\r\n    addToyReview = async (review) => {\r\n        const { toyId } = this.props.match.params\r\n        review.toyId = toyId\r\n        await this.props.addReview(review)\r\n        await this.props.loadReviews({ toyId })\r\n    }\r\n\r\n    removeToyReview = async (reviewId) => {\r\n        await this.props.removeReview(reviewId)\r\n    }\r\n\r\n    render() {\r\n        const { toy, isChatOpen, isReviewAdd } = this.state\r\n        const { user, reviews } = this.props\r\n        if (!toy) return <div> Loading from Toy Details...</div>\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"product-image\">\r\n                    <img src={`https://robohash.org/${toy.name}`} alt=\"\" className=\"product-logo\" />\r\n                </div>\r\n\r\n                <div className=\"product-details\">\r\n                    <header>\r\n                        <h1 className=\"title\">{toy.name}</h1>\r\n                        <div className=\"price\">\r\n                            <span className=\"before\">{toy.price * 2}$</span>\r\n                            <span className=\"current\">{toy.price}$</span>\r\n                        </div>\r\n                    </header>\r\n                    <article>\r\n                        <h5>Description</h5>\r\n                        <p>Lorem ipsum dolorl sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\r\n                    </article>\r\n                    <div className=\"controls\">\r\n                        <div className=\"labels\">\r\n                            <div className=\"toy-labels\">\r\n                                {toy.labels.map((label, idx) => <div key={idx}><p className=\"label\">{label}</p></div>)}\r\n                                <div>\r\n                                    <p className={`label-${(toy.inStock) ? 'green' : 'red'}`}>{(toy.inStock) ? 'In Stock' : 'Sold Out'}</p>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    {!user && <p>To write a review please login <Link to=\"/login\"> Here</Link></p>}\r\n\r\n                    {reviews.length > 0 && <div className=\"reviews-container\">\r\n                        <ReviewList user={user} removeToyReview={this.removeToyReview} reviews={reviews} />\r\n                    </div>\r\n                    }\r\n                    <ReviewModal />\r\n\r\n                    {isChatOpen && <ToyPopup>\r\n                        <ToyMessages toy={toy} user={user} toggleChat={this.toggleChat} />\r\n                    </ToyPopup>}\r\n                    {!isChatOpen && <button onClick={this.toggleChat} className=\"chat-button\"><ChatRoundedIcon /></button>}\r\n                    <div className=\"details-btns\">\r\n                        <Link to=\"/toy\" className=\"back\" type=\"button\">\r\n                            <span>Back Toys</span>\r\n                        </Link>\r\n                        {user && <button className=\"back\" onClick={this.toggleReviewAdd}>\r\n                            <span>Add Review</span>\r\n                        </button>}\r\n                    </div>\r\n                    <ReviewModal open={isReviewAdd} addToyReview={this.addToyReview} toggleModal={this.toggleModal} />\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        reviews: state.reviewModule.reviews\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadReviews,\r\n    removeReview,\r\n    addReview,\r\n}\r\n\r\nexport const ToyDetails = connect(mapStateToProps, mapDispatchToProps)(_ToyDetails)\r\n\r\n_ToyDetails.propTypes = {\r\n    addReview: PropTypes.func.isRequired,\r\n    loadReviews: PropTypes.func.isRequired,\r\n    removeReview: PropTypes.func.isRequired,\r\n    reviews: PropTypes.array.isRequired,\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { toyService } from '../services/toy.service'\r\nimport { onEditToy } from '../store/toy.actions'\r\nimport { Button, Input } from '@material-ui/core';\r\n\r\n\r\nclass _ToyEdit extends React.Component {\r\n  state = {\r\n    toy: null,\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { toyId } = this.props.match.params\r\n    const toy = await toyService.getById(toyId)\r\n    this.setState(prevState => ({ ...prevState, toy }))\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const { name } = event.target\r\n    const value = (event.target.type === 'number') ? +event.target.value : event.target.value\r\n    this.setState((prevState) => ({ ...prevState, toy: { ...prevState.toy, [name]: value } }))\r\n  }\r\n\r\n  onSubmit = async (event) => {\r\n    event.preventDefault()\r\n    const { toy } = this.state\r\n    await this.props.onEditToy(toy)\r\n    this.props.history.push('/toy')\r\n  }\r\n\r\n  render() {\r\n    const { toy } = this.state\r\n    if (!toy) return <div> Loading...</div>\r\n    return (\r\n\r\n\r\n      <div className=\"container\">\r\n        <div className=\"product-image\">\r\n          <img src={`https://robohash.org/${toy.name}`} alt=\"\" className=\"product-logo\" />\r\n        </div>\r\n\r\n        <div className=\"product-details\">\r\n          <header>\r\n            <h1 className=\"title\">{toy.name}</h1>\r\n          </header>\r\n          <form className=\"edit-toy\" onSubmit={this.onSubmit}>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={toy.name}\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            <Input\r\n              type=\"number\"\r\n              name=\"price\"\r\n              value={toy.price}\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            <Button type=\"submit\" className=\"back\">Submit Edit</Button>\r\n          </form>\r\n\r\n        </div>\r\n      </div >\r\n\r\n\r\n\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onEditToy\r\n}\r\n\r\nexport const ToyEdit = connect(mapStateToProps, mapDispatchToProps)(_ToyEdit)\r\n\r\n_ToyEdit.propTypes = {\r\n  onEditToy: PropTypes.func.isRequired,\r\n}","import React from 'react';\r\nimport { Pie } from 'react-chartjs-2';\r\nexport function ToyChartPie({ data, labels }) {\r\n    const toyData = {\r\n        labels: ['On wheels', 'Box game', 'Art', 'Baby', 'Doll', 'Puzzle', 'Outdoor'],\r\n        datasets: [\r\n            {\r\n                label: '# of Toys',\r\n                data,\r\n                backgroundColor: [\r\n                    'rgba(255, 99, 132, 0.2)',\r\n                    'rgba(54, 162, 235, 0.2)',\r\n                    'rgba(255, 206, 86, 0.2)',\r\n                    'rgba(75, 192, 192, 0.2)',\r\n                    'rgba(153, 102, 255, 0.2)',\r\n                    'rgba(255, 159, 64, 0.2)',\r\n                    'rgba(255, 255, 100, 0.2)'\r\n\r\n                ],\r\n                borderColor: [\r\n                    'rgba(255, 99, 132, 1)',\r\n                    'rgba(54, 162, 235, 1)',\r\n                    'rgba(255, 206, 86, 1)',\r\n                    'rgba(75, 192, 192, 1)',\r\n                    'rgba(153, 102, 255, 1)',\r\n                    'rgba(255, 159, 64, 1)',\r\n                    'rgba(255, 255, 100, 1)'\r\n\r\n                ],\r\n                borderWidth: 3,\r\n            },\r\n        ],\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <Pie data={toyData}\r\n            width={350}\r\n            height={350}\r\n            options={{ maintainAspectRatio: false }} />\r\n    )\r\n}","import React from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\n\r\nexport function ToyChartDoughnut({ data }) {\r\n    const toyData = {\r\n        labels: ['150', '199', '255', '400', '800', '1000'],\r\n        datasets: [\r\n            {\r\n                label: '# of Toys',\r\n                data,\r\n                backgroundColor: [\r\n                    'rgba(255, 99, 132, 0.2)',\r\n                    'rgba(54, 162, 235, 0.2)',\r\n                    'rgba(255, 206, 86, 0.2)',\r\n                    'rgba(75, 192, 192, 0.2)',\r\n                    'rgba(153, 102, 255, 0.2)',\r\n                    'rgba(255, 199, 64, 0.2)'\r\n\r\n\r\n                ],\r\n                borderColor: [\r\n                    'rgba(255, 99, 132, 1)',\r\n                    'rgba(54, 162, 235, 1)',\r\n                    'rgba(255, 206, 86, 1)',\r\n                    'rgba(75, 192, 192, 1)',\r\n                    'rgba(153, 102, 255, 1)',\r\n                    'rgba(255, 199, 64, 1)'\r\n\r\n                ],\r\n                borderWidth: 3,\r\n            },\r\n        ],\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <Doughnut data={toyData}\r\n            width={350}\r\n            height={350}\r\n            options={{ maintainAspectRatio: false }} />\r\n    )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ToyChartPie } from './ToyChartPie';\r\nimport { ToyChartDoughnut } from './ToyChartDoughnut';\r\n\r\n\r\nconst _ToyChart = ({ toys }) => {\r\n    const calcChartPie = () => {\r\n        const toyTypes = ['On wheels', 'Box game', 'Art', 'Baby', 'Doll', 'Puzzle', 'Outdoor'];\r\n        const toyCounts = [];\r\n        for (let i = 0; i < toyTypes.length; i++) {\r\n            toyCounts.push(0);\r\n        }\r\n\r\n        for (let i = 0; i < toys.length; i++) {\r\n            for (let j = 0; j < toys[i].labels.length; j++) {\r\n                toyCounts[toyTypes.indexOf(toys[i].labels[j])]++;\r\n            }\r\n        }\r\n        return toyCounts;\r\n    }\r\n\r\n    const calcChartDoughnut = () => {\r\n        const toyPrices = [150, 199, 255, 400, 800, 1000];\r\n        const toyCounts = [];\r\n        for (let i = 0; i < toyPrices.length; i++) {\r\n            toyCounts.push(0);\r\n        }\r\n        for (let i = 0; i < toys.length; i++) {\r\n            toyCounts[toyPrices.indexOf(toys[i].price)]++;\r\n        }\r\n        return toyCounts;\r\n    }\r\n\r\n    return (\r\n        <div className=\"charts\">\r\n            <div className=\"chart\">\r\n                <h1>Label statistics:</h1>\r\n                <div>\r\n                    <ToyChartPie data={calcChartPie()} />\r\n                </div>\r\n            </div>\r\n            <div className=\"chart\">\r\n                <h1>Price statistics:</h1>\r\n                <div>\r\n                    <ToyChartDoughnut data={calcChartDoughnut()} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        toys: state.toyModule.toys,\r\n    }\r\n}\r\n\r\n\r\nexport const ToyChart = connect(mapStateToProps, null)(_ToyChart)\r\n","import { userService } from \"../services/user.service.js\";\r\nimport { showErrorMsg } from '../services/event-bus.service.js'\r\n\r\nexport function onLogin(credentials) {\r\n    return (dispatch) => {\r\n        return userService.login(credentials)\r\n            .then(user => {\r\n                dispatch({\r\n                    type: 'SET_USER',\r\n                    user\r\n                })\r\n                return user;\r\n            })\r\n            .catch(err => {\r\n                showErrorMsg('Cannot login')\r\n                console.log('Cannot login', err)\r\n            })\r\n    }\r\n}\r\n\r\nexport function onSignup(credentials) {\r\n    return (dispatch) => {\r\n        return userService.signup(credentials)\r\n            .then(user => {\r\n                dispatch({\r\n                    type: 'SET_USER',\r\n                    user\r\n                })\r\n                return user;\r\n            })\r\n            .catch(err => {\r\n                showErrorMsg('Cannot signup')\r\n                console.log('Cannot signup', err)\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return (dispatch) => {\r\n        userService.logout()\r\n            .then(() => dispatch({\r\n                type: 'SET_USER',\r\n                user: null\r\n            }))\r\n            .catch(err => {\r\n                showErrorMsg('Cannot logout')\r\n                console.log('Cannot logout', err)\r\n            })\r\n    }\r\n}\r\n\r\nexport function onEditUser(user) {\r\n    return (dispatch) => {\r\n        userService.update(user)\r\n            .then(() => dispatch({\r\n                type: 'UPDATE_USER',\r\n                user\r\n            }))\r\n            .catch(err => {\r\n                showErrorMsg('Cannot update')\r\n                console.log('Cannot update user', err)\r\n            })\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { onLogin, onSignup } from '../store/user.actions.js'\r\nimport { showErrorMsg } from '../services/event-bus.service.js'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { Button, TextField, Avatar, Grid, Typography, Container } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n    Accordion,\r\n    AccordionItem,\r\n    AccordionItemHeading,\r\n    AccordionItemButton,\r\n    AccordionItemPanel,\r\n} from 'react-accessible-accordion';\r\nimport 'react-accessible-accordion/dist/fancy-example.css';\r\n\r\nclass _ToyLoginSignup extends React.Component {\r\n    state = {\r\n        isSignup: false\r\n    }\r\n    AcordionContent = [\r\n        { heading: 'Want to be admin?', content: 'Login with this credentials Username: admin and Password: admin ' },\r\n    ]\r\n    componentDidMount() {\r\n        if (this.props.user) this.props.history.push('/')\r\n    }\r\n\r\n    toggleSignup = () => {\r\n        this.setState({ isSignup: !this.state.isSignup })\r\n    }\r\n\r\n    validate = (values) => {\r\n        const errors = {};\r\n        if (!values.username) {\r\n            errors.username = 'Required username';\r\n        }\r\n        if (!values.password) {\r\n            errors.password = 'Required password';\r\n        }\r\n        if (this.state.isSignup && !values.fullname) {\r\n            errors.fullname = 'Required fullname';\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    onFormSubmit = async (values, { setSubmitting }) => {\r\n        try {\r\n            const res = this.state.isSignup ? await this.props.onSignup(values) : await this.props.onLogin(values)\r\n            if (!res) {\r\n                (this.state.isSignup) ? showErrorMsg('User already exists') : showErrorMsg('Wrong credentials')\r\n            } else {\r\n                this.props.history.push('/')\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isSignup } = this.state;\r\n        const initialValues = { fullname: '', username: '', password: '' }\r\n        const TextFieldOutlined = (props) => <TextField {...props} variant={'outlined'} color={'primary'} />\r\n        return (\r\n            <>\r\n                <Container component=\"main\" className=\"login-container\" maxWidth=\"xs\">\r\n                    <div className=\"flex column align-center\">\r\n                        <Avatar className=\"avatar\" >\r\n                            <LockOutlinedIcon />\r\n                        </Avatar>\r\n                        <Typography component=\"h1\" variant=\"h5\">\r\n                            {isSignup ? 'Signup' : 'Login'}\r\n                        </Typography>\r\n                        <Formik\r\n                            initialValues={initialValues}\r\n                            validate={this.validate}\r\n                            onSubmit={this.onFormSubmit}\r\n                        >\r\n                            {({ isSubmitting }) => (\r\n                                <Form style={{ width: '100%' }}>\r\n                                    {isSignup && <>\r\n                                        <Field\r\n                                            variant=\"outlined\"\r\n                                            margin=\"normal\"\r\n                                            fullWidth\r\n                                            name=\"fullname\"\r\n                                            label=\"Full Name\"\r\n                                            type=\"text\"\r\n                                            autoComplete=\"current-password\"\r\n                                            as={TextFieldOutlined}\r\n                                            required\r\n                                        />\r\n                                        <ErrorMessage name=\"fullname\" component=\"div\" />\r\n                                    </>\r\n\r\n                                    }\r\n                                    <Field\r\n                                        margin=\"normal\"\r\n                                        fullWidth\r\n                                        label=\"Username\"\r\n                                        name=\"username\"\r\n                                        autoComplete=\"username\"\r\n                                        as={TextFieldOutlined}\r\n                                        required\r\n                                    />\r\n                                    <ErrorMessage name=\"username\" component=\"div\" />\r\n                                    <Field\r\n                                        margin=\"normal\"\r\n                                        fullWidth\r\n                                        name=\"password\"\r\n                                        label=\"Password\"\r\n                                        type=\"password\"\r\n                                        autoComplete=\"current-password\"\r\n                                        as={TextFieldOutlined}\r\n                                        required\r\n                                    />\r\n                                    <ErrorMessage name=\"password\" component=\"div\" />\r\n                                    <Button\r\n                                        fullWidth\r\n                                        variant={'contained'}\r\n                                        color={'primary'}\r\n                                        type=\"submit\"\r\n                                        disabled={isSubmitting}>\r\n                                        {!isSignup ? 'Login' : 'Signup'}\r\n                                    </Button>\r\n\r\n                                </Form>\r\n                            )}\r\n                        </Formik>\r\n                        <Grid container>\r\n                            <Grid item>\r\n                                <Link to=\"/login\" onClick={this.toggleSignup} style={{ color: \"black\" }}>\r\n                                    {!isSignup ? \"Don't have an account? Sign Up\" : 'Already have an account? Login'}\r\n                                </Link>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                    <br />\r\n                    <Accordion className=\"about-acord\" allowZeroExpanded allowMultipleExpanded>\r\n                        {this.AcordionContent.map((singleAccordion, idx) =>\r\n                        (<AccordionItem key={idx}>\r\n                            <AccordionItemHeading>\r\n                                <AccordionItemButton>\r\n                                    {singleAccordion.heading}\r\n                                </AccordionItemButton>\r\n                            </AccordionItemHeading>\r\n                            <AccordionItemPanel>\r\n                                <p>\r\n                                    {singleAccordion.content}\r\n                                </p>\r\n                            </AccordionItemPanel>\r\n                        </AccordionItem>)\r\n                        )}\r\n                    </Accordion>\r\n                </Container>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n}\r\n\r\n\r\n\r\nexport const ToyLoginSignup = connect(mapStateToProps, mapDispatchToProps)(_ToyLoginSignup)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { TextField } from '@material-ui/core'\r\n\r\n\r\nclass _ToyUserEdit extends React.Component {\r\n    state = {\r\n        user: null\r\n    }\r\n    componentDidMount() {\r\n        this.setState({ user: { ...this.props.user } })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        const { name, value } = event.target\r\n        this.setState((prevState) => ({ ...prevState, user: { ...prevState.user, [name]: value } }))\r\n    }\r\n\r\n    onSubmit = async (event) => {\r\n        event.preventDefault()\r\n        const { user } = this.state\r\n        this.props.handleEdit(user)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { user } = this.state\r\n        if (!user) return <div> Loading...</div>\r\n        return (\r\n            <form className=\"edit-user\" onSubmit={this.onSubmit}>\r\n                <TextField value={user.username} type='text' variant=\"outlined\" label=\"Edit Username\" name='username' onChange={this.handleChange} />\r\n                <TextField value={user.fullname} type='text' variant=\"outlined\" label=\"Edit Fullname\" name='fullname' onChange={this.handleChange} />\r\n                <button>Submit</button>\r\n            </form>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\n\r\nexport const ToyUserEdit = connect(mapStateToProps, null)(_ToyUserEdit)\r\n\r\n","import React from 'react'\r\nimport { Avatar } from '@material-ui/core';\r\nimport { connect } from 'react-redux'\r\nimport { ReviewList } from '../cmps/ReviewList.jsx'\r\nimport PropTypes from 'prop-types'\r\nimport { loadReviews, removeReview } from '../store/review.actions'\r\nimport { onEditUser } from '../store/user.actions'\r\nimport { ToyUserEdit } from '../cmps/ToyUserEdit'\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass _ToyUserDetails extends React.Component {\r\n    state = {\r\n        isEdit: false\r\n    }\r\n    async componentDidMount() {\r\n        if (!this.props.user) {\r\n            this.props.history.push('/')\r\n            return\r\n        }\r\n        const userId = this.props.user._id\r\n        await this.props.loadReviews({ userId })\r\n        this.setState({ isEdit: false })\r\n    }\r\n\r\n    removeToyReview = async (reviewId) => {\r\n        await this.props.removeReview(reviewId)\r\n    }\r\n\r\n    handleEdit = async (user) => {\r\n        await this.props.onEditUser(user)\r\n        this.toggleEdit()\r\n    }\r\n\r\n    toggleEdit = () => {\r\n        this.setState(prevState => ({ ...prevState, isEdit: !this.state.isEdit }))\r\n    }\r\n\r\n    render() {\r\n        const { user, reviews } = this.props\r\n        const { isEdit } = this.state\r\n        if (!user) return <div>Loading...</div>\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card__header\">\r\n                    <div className=\"card__profile\">\r\n                        <Avatar >{user.fullname[0].toUpperCase()}</Avatar>\r\n                    </div>\r\n                    <div className=\"card__name\">\r\n                        <p>Hi, {user.fullname}</p>\r\n                    </div>\r\n                    <div className=\"card__button\">\r\n                        <button onClick={this.toggleEdit}>\r\n                            <span>{(isEdit ? 'Back' : 'Edit')}</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <hr className=\"border\" />\r\n                <div className=\"card__insights\">\r\n                    <div className=\"card__heading\">\r\n                        <div className=\"heading\">{!isEdit ? 'My Reviews' : 'User Edit'}</div>\r\n                    </div>\r\n                </div>\r\n                {!isEdit && <>\r\n                    <div className=\"insights\">\r\n                        {reviews.length > 0 && <div className=\"reviews-container\">\r\n                            <ReviewList user={user} removeToyReview={this.removeToyReview} reviews={reviews} />\r\n                        </div>\r\n                        }\r\n                        {!reviews.length && <>\r\n                            <span>You dont have any reviews yet, Check our toys  <Link to='/toy'>Here</Link></span>\r\n                        </>\r\n                        }\r\n                    </div>\r\n                </>}\r\n                {isEdit && <ToyUserEdit handleEdit={this.handleEdit} />}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        reviews: state.reviewModule.reviews\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadReviews,\r\n    removeReview,\r\n    onEditUser\r\n}\r\n\r\nexport const ToyUserDetails = connect(mapStateToProps, mapDispatchToProps)(_ToyUserDetails)\r\n\r\n_ToyUserDetails.propTypes = {\r\n    user: PropTypes.object,\r\n    reviews: PropTypes.array,\r\n    loadReviews: PropTypes.func,\r\n    removeReview: PropTypes.func,\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { ReviewList } from '../cmps/ReviewList.jsx'\r\nimport PropTypes from 'prop-types'\r\nimport { loadReviews } from '../store/review.actions'\r\n\r\nclass _ToyReviews extends React.Component {\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadReviews({})\r\n    }\r\n\r\n    render() {\r\n        const { reviews } = this.props\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card__header\">\r\n                    <div className=\"card__name\">\r\n                        <p>People Review Us:</p>\r\n                    </div>\r\n                </div>\r\n                <hr className=\"border\" />\r\n                <div className=\"card__insights\">\r\n                    <div className=\"card__heading\">\r\n                        <div className=\"heading\">Store Reviews</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"insights\">\r\n                    {reviews.length > 0 && <div className=\"reviews-container\">\r\n                        <ReviewList reviews={reviews} />\r\n                    </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        reviews: state.reviewModule.reviews\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadReviews,\r\n}\r\n\r\nexport const ToyReviews = connect(mapStateToProps, mapDispatchToProps)(_ToyReviews)\r\n\r\n_ToyReviews.propTypes = {\r\n    loadReviews: PropTypes.func.isRequired,\r\n    reviews: PropTypes.array.isRequired,\r\n\r\n}","import { ToyHome } from './pages/ToyHome'\r\nimport { ToyAbout } from './pages/ToyAbout'\r\nimport { ToyApp } from './pages/ToyApp'\r\nimport { ToyDetails } from './pages/ToyDetails'\r\nimport { ToyEdit } from './pages/ToyEdit'\r\nimport { ToyChart } from './cmps/ToyChart'\r\nimport { ToyLoginSignup } from './pages/ToyLoginSignup'\r\nimport { ToyUserDetails } from './pages/ToyUserDetails'\r\nimport { ToyReviews } from './pages/ToyReviews'\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: ToyHome,\r\n    },\r\n    {\r\n        path: '/toy',\r\n        component: ToyApp,\r\n    },\r\n    {\r\n        path: '/toy/details/:toyId',\r\n        component: ToyDetails,\r\n    },\r\n    {\r\n        path: '/toy/edit/:toyId',\r\n        component: ToyEdit,\r\n    },\r\n    {\r\n        path: '/about',\r\n        component: ToyAbout,\r\n    },\r\n    {\r\n        path: '/chart',\r\n        component: ToyChart,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: ToyLoginSignup,\r\n    },\r\n    {\r\n        path: '/user',\r\n        component: ToyUserDetails,\r\n    },\r\n    {\r\n        path: '/review',\r\n        component: ToyReviews,\r\n    }\r\n]\r\n\r\nexport default routes;","import { eventBusService } from '../services/event-bus.service.js'\r\nimport React from 'react'\r\n\r\nexport class UserMsg extends React.Component {\r\n\r\n  removeEvent;\r\n\r\n  state = {\r\n    msg: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.removeEvent = eventBusService.on('show-user-msg', (msg) => {\r\n      this.setState({ msg })\r\n      setTimeout(() => {\r\n        this.setState({ msg: null })\r\n      }, 2500)\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvent()\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.msg) return <span></span>\r\n    const msgClass = this.state.msg.type || ''\r\n    return (\r\n      <section className={'user-msg ' + msgClass}>\r\n        <button onClick={() => {\r\n          this.setState({ msg: null })\r\n        }}>x</button>\r\n        {this.state.msg.txt}\r\n      </section>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nexport const RightNav = ({ open, toggleOpen, user, onLogout }) => {\n  return (\n    <ul className={`right-nav ${open ? 'open' : ''}`}>\n      <NavLink onClick={toggleOpen} exact to=\"/\">Home</NavLink>\n      {user && <NavLink onClick={toggleOpen} to=\"/user\">Profile</NavLink>}\n      <NavLink onClick={toggleOpen} to=\"/toy\">Toys</NavLink>\n      <NavLink onClick={toggleOpen} to=\"/review\">Reviews</NavLink>\n      <NavLink onClick={toggleOpen} to=\"/about\">About</NavLink>\n      <NavLink onClick={toggleOpen} to=\"/chart\">Chart</NavLink>\n      {user && <NavLink onClick={toggleOpen} onClick={onLogout} to=\"/login\">Logout</NavLink>}\n      {!user && <NavLink onClick={toggleOpen} to=\"/login\">Login</NavLink>}\n    </ul>\n  )\n}\n","import React from 'react';\nimport { RightNav } from './RightNav';\n\n\nexport function Burger({ open, toggleOpen, user, onLogout }) {\n  return (\n    <>\n      <div className={`burger ${open ? 'open' : ''}`} onClick={toggleOpen}>\n        <div className={`burgers ${open ? 'open' : ''}`} />\n        <div className={`burgers ${open ? 'open' : ''}`} />\n        <div className={`burgers ${open ? 'open' : ''}`} />\n      </div>\n      <RightNav open={open} toggleOpen={toggleOpen} onLogout={onLogout} user={user} />\n    </>\n  )\n}\n\n\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { onLogin, onLogout, onSignup } from '../store/user.actions.js'\r\nimport { UserMsg } from './user-msg.jsx'\r\nimport { Burger } from './Burger.jsx'\r\nimport toyLogo from '../assets/img/toyLogo.svg'\r\nclass _ToyHeader extends React.Component {\r\n    state = {\r\n        open: false,\r\n        isMobile: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (window.innerWidth < 768) {\r\n            this.setState({ ...this.state, isMobile: true })\r\n        }\r\n        window.addEventListener('resize', this.handleResize)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.handleResize)\r\n    }\r\n\r\n    onLogin = (credentials) => {\r\n        this.props.onLogin(credentials)\r\n    }\r\n    onSignup = (credentials) => {\r\n        this.props.onSignup(credentials)\r\n    }\r\n    onLogout = () => {\r\n        this.props.onLogout()\r\n    }\r\n\r\n    toggleOpen = () => {\r\n        const { open, isMobile } = this.state\r\n        if (!isMobile) return\r\n        this.setState({ open: !open })\r\n    }\r\n\r\n    handleResize = () => {\r\n        this.setState({\r\n            isMobile: window.innerWidth < 768\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props\r\n        return (\r\n            <>\r\n                <div className=\"navbar\">\r\n                    <div className=\"logo\">\r\n                        <Link to=\"/\"><img src={toyLogo} alt=\"logo\" /></Link>\r\n                    </div>\r\n                    <Burger user={user} onLogout={this.onLogout} open={this.state.open} toggleOpen={this.toggleOpen} />\r\n                </div>\r\n                <UserMsg />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n    onLogout\r\n}\r\n\r\nexport const ToyHeader = connect(mapStateToProps, mapDispatchToProps)(_ToyHeader)\r\n\r\n_ToyHeader.propTypes = {\r\n    user: PropTypes.object,\r\n    onLogin: PropTypes.func.isRequired,\r\n    onSignup: PropTypes.func.isRequired,\r\n    onLogout: PropTypes.func.isRequired\r\n}","import React from 'react'\r\n\r\n// const { Switch, Route } = ReactRouterDOM\r\nimport { Switch, Route } from 'react-router'\r\n\r\nimport routes from './routes.js'\r\n\r\nimport { ToyHeader } from './cmps/ToyHeader.jsx'\r\n\r\nexport class RootCmp extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div >\r\n                <ToyHeader />\r\n                <main className=\"main-container\">\r\n                    <Switch>\r\n                        {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n                    </Switch>\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport { store } from './store/store'\nimport { RootCmp } from './root-cmp';\nimport './assets/styles/main.scss';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <RootCmp />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}